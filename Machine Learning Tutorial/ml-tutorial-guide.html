<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machine Learning Tutorial Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 40px;
            text-align: center;
            color: white;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);
            overflow-x: auto;
            border-bottom: 3px solid #764ba2;
        }

        .tab {
            padding: 20px 30px;
            cursor: pointer;
            border: none;
            background: transparent;
            color: white;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s;
            white-space: nowrap;
            position: relative;
        }

        .tab:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .tab.active {
            background: white;
            color: #764ba2;
            border-radius: 10px 10px 0 0;
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            right: 0;
            height: 3px;
            background: white;
        }

        .tab-content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .difficulty-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 12px 24px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .filter-btn:hover, .filter-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.05);
        }

        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .concept-tile {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            position: relative;
            cursor: pointer;
            border: 3px solid transparent;
        }

        .concept-tile:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            border-color: #f5576c;
        }

        .concept-tile.completed {
            border-color: #4cd964;
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
        }

        .tile-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .tile-title {
            font-size: 1.4em;
            font-weight: 700;
            color: #2c3e50;
            flex: 1;
        }

        .checkbox-container {
            width: 30px;
            height: 30px;
            border: 3px solid #667eea;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .checkbox-container:hover {
            background: #667eea;
            transform: scale(1.1);
        }

        .checkbox-container.checked {
            background: #4cd964;
            border-color: #4cd964;
        }

        .checkmark {
            color: white;
            font-size: 20px;
            display: none;
        }

        .checkbox-container.checked .checkmark {
            display: block;
        }

        .difficulty-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .difficulty-beginner {
            background: #4cd964;
            color: white;
        }

        .difficulty-intermediate {
            background: #ff9500;
            color: white;
        }

        .difficulty-advanced {
            background: #ff3b30;
            color: white;
        }

        .tile-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .tile-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .action-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .btn-resources {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
        }

        .btn-code {
            background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
            color: white;
        }

        .btn-journal {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
        }

        .action-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            color: #999;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: #f5576c;
            color: white;
        }

        .code-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .code-tab {
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            border: 2px solid #ddd;
        }

        .code-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }

        .code-example {
            display: none;
        }

        .code-example.active {
            display: block;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 20px 0;
            line-height: 1.5;
            font-size: 0.9em;
        }

        .journal-section {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .journal-field {
            margin-bottom: 15px;
        }

        .journal-field label {
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }

        .journal-field input, .journal-field textarea, .journal-field select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
        }

        .journal-field textarea {
            min-height: 100px;
            resize: vertical;
        }

        .save-journal-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #4cd964 0%, #2ecc71 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: 700;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        .save-journal-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 217, 100, 0.4);
        }

        .resources-list {
            list-style: none;
            padding: 0;
        }

        .resources-list li {
            padding: 12px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .resources-list a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        .resources-list a:hover {
            color: #f5576c;
        }

        .tool-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .tool-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .tool-pricing {
            display: inline-block;
            padding: 5px 15px;
            background: #4cd964;
            color: white;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #4cd964, #2ecc71);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            transition: width 0.3s;
        }

        .search-box {
            width: 100%;
            padding: 15px 20px;
            border: 3px solid #667eea;
            border-radius: 30px;
            font-size: 1.1em;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .search-box:focus {
            outline: none;
            border-color: #f5576c;
            box-shadow: 0 0 20px rgba(245, 87, 108, 0.3);
        }

        .reference-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .reference-tile {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .reference-tile:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .reference-tile h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .reference-tile p {
            color: #666;
            font-size: 0.9em;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ Machine Learning Mastery</h1>
            <p>Your Complete Guide to ML Algorithms, Tools & Techniques</p>
        </header>

        <div class="tabs">
            <button class="tab active" data-tab="definitions">üìö Definitions</button>
            <button class="tab" data-tab="algorithms">üß† Algorithms</button>
            <button class="tab" data-tab="loss-functions">üìä Loss Functions</button>
            <button class="tab" data-tab="activation-functions">‚ö° Activation Functions</button>
            <button class="tab" data-tab="tools">üõ†Ô∏è Tools</button>
            <button class="tab" data-tab="active-learning">üéØ Active Learning</button>
            <button class="tab" data-tab="references">üìñ References</button>
        </div>

        <div id="definitions" class="tab-content active">
            <input type="text" class="search-box" placeholder="üîç Search definitions..." id="searchDefinitions">
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressDefinitions" style="width: 0%">0%</div>
            </div>

            <div id="definitionsContent" class="concept-grid"></div>
        </div>

        <div id="algorithms" class="tab-content">
            <input type="text" class="search-box" placeholder="üîç Search algorithms..." id="searchAlgorithms">
            
            <div class="difficulty-filter">
                <button class="filter-btn active" data-filter="all">All Levels</button>
                <button class="filter-btn" data-filter="beginner">üå± Beginner</button>
                <button class="filter-btn" data-filter="intermediate">üåø Intermediate</button>
                <button class="filter-btn" data-filter="advanced">üå≥ Advanced</button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressAlgorithms" style="width: 0%">0%</div>
            </div>

            <div class="concept-grid" id="algorithmsGrid"></div>
        </div>

        <div id="loss-functions" class="tab-content">
            <input type="text" class="search-box" placeholder="üîç Search loss functions..." id="searchLoss">
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressLoss" style="width: 0%">0%</div>
            </div>

            <div class="concept-grid" id="lossFunctionsGrid"></div>
        </div>

        <div id="activation-functions" class="tab-content">
            <input type="text" class="search-box" placeholder="üîç Search activation functions..." id="searchActivation">
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressActivation" style="width: 0%">0%</div>
            </div>

            <div class="concept-grid" id="activationFunctionsGrid"></div>
        </div>

        <div id="tools" class="tab-content">
            <input type="text" class="search-box" placeholder="üîç Search tools..." id="searchTools">
            <div id="toolsContent"></div>
        </div>

        <div id="active-learning" class="tab-content">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">Active Learning Process</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progressActiveLearning" style="width: 0%">0%</div>
            </div>
            <div class="concept-grid" id="activeLearningGrid"></div>
        </div>

        <div id="references" class="tab-content">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">üìñ Reference Graphics</h2>
            <div class="reference-gallery" id="referencesGallery"></div>
            
            <div style="margin-top: 40px; padding: 30px; background: #f8f9fa; border-radius: 15px;">
                <h3 style="margin-bottom: 15px; color: #2c3e50;">Original Request Prompt</h3>
                <p style="line-height: 1.8; color: #555;">
                    Generate an HTML app with JavaScript (no REACT) that provides actionable and clickable guide for "Machine Learning Tutorial Guide" to resources for code snippets, tutorials, descriptions, illustrations for each of these concepts. Reference the graphics attached in the prompt. Assume Intermediate level. Assume vibrant and colorful style. Optimize for programmic interaction. Include information and examples in Python, SQL, R, and JavaScript. Use a clickable tile for each concept and each should have a clickable checkmark that I can use to mark the concept as complete. On each tile put the links to resources, descriptions, and action steps.
                </p>
            </div>
        </div>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        // Data object containing all content (CORRECTED AND COMPLETE)
        const data = {
            definitions: [
                { term: "Machine Learning", definition: "A method of data analysis that automates analytical model building. ML systems learn from data, identify patterns, and make decisions with minimal human intervention." },
                { term: "Deep Learning", definition: "A subset of ML using neural networks with multiple layers. It excels at processing vast, complex data like images or speech by mimicking the human brain's network structure." },
                { term: "Neural Network", definition: "A computing system inspired by biological neural networks. It consists of interconnected nodes (neurons) that process information in layers." },
                { term: "Algorithm", definition: "A set of rules or instructions for solving a problem or completing a task. In ML, algorithms learn patterns from data to make predictions." },
                { term: "Training Data", definition: "The dataset used to teach ML models to make predictions or decisions. The model learns patterns from this labeled or unlabeled data." },
                { term: "Model", definition: "A mathematical representation of a real-world process trained on data. It encodes learned patterns and can make predictions on new data." },
                { term: "Supervised Learning", definition: "Learning approach using labeled training data where the model learns to map inputs to known outputs." },
                { term: "Unsupervised Learning", definition: "Learning approach that finds patterns in data without labels, discovering hidden structures independently." },
                { term: "Reinforcement Learning", definition: "Learning through trial and error with rewards and penalties, where agents learn optimal actions through interaction." },
                { term: "Feature", definition: "Individual measurable properties or characteristics of objects being observed. Features are inputs to ML models." },
                { term: "Overfitting", definition: "When a model learns training data too well and fails to generalize to new data, capturing noise instead of patterns." },
                { term: "Cross-Validation", definition: "Technique to assess model performance by splitting data into train/test sets multiple times, ensuring robust evaluation." },
                { term: "Gradient Descent", definition: "Optimization algorithm to minimize loss function in model training by iteratively adjusting parameters." },
                { term: "Backpropagation", definition: "Method for training neural networks by propagating errors backward through layers to update weights." },
                { term: "Hyperparameter", definition: "Configuration settings that control the learning process, set before training begins (e.g., learning rate, batch size)." },
                { term: "CNN (Convolutional Neural Network)", definition: "Deep learning architecture designed for image processing and computer vision tasks using convolutional layers." },
                { term: "RNN (Recurrent Neural Network)", definition: "Neural network architecture for sequential data like text and time series, maintaining memory of previous inputs." },
                { term: "Transformer", definition: "Architecture using attention mechanisms for language models like GPT, enabling parallel processing of sequences." },
                { term: "LLM (Large Language Model)", definition: "Neural network trained on vast amounts of text data, capable of understanding and generating human-like text." },
                { term: "Loss Function", definition: "Measures how far model predictions are from actual values, guiding the optimization process during training." },
                { term: "Activation Function", definition: "Determines the output of neural network nodes, introducing non-linearity (e.g., ReLU, Sigmoid, Tanh)." },
                { term: "Epoch", definition: "One complete pass through the entire training dataset during model training." },
                { term: "Batch Size", definition: "Number of samples processed before updating model parameters during training." },
                { term: "Learning Rate", definition: "Controls how much model weights are adjusted during training - a key hyperparameter affecting convergence." },
                { term: "Regularization", definition: "Techniques to prevent overfitting by adding constraints to the model (e.g., L1, L2 regularization, dropout)." },
                { term: "Dropout", definition: "Regularization technique that randomly ignores neurons during training to prevent overfitting." },
                { term: "Transfer Learning", definition: "Using a pre-trained model as a starting point for a new task, leveraging learned features." },
                { term: "Fine-tuning", definition: "Adapting a pre-trained model to a specific task with additional training on task-specific data." },
                { term: "Attention Mechanism", definition: "Allows models to focus on relevant parts of input sequences, crucial for transformer architectures." },
                { term: "GPU (Graphics Processing Unit)", definition: "Hardware accelerator for parallel computation, essential for training deep learning models efficiently." }
            ],

            algorithms: [
                {
                    name: "Linear Regression",
                    difficulty: "beginner",
                    category: "Supervised - Regression",
                    description: "Predicts continuous values by finding the best-fit line through data points using ordinary least squares.",
                    formula: "Y = Œ≤‚ÇÄ + Œ≤‚ÇÅX",
                    useCase: "House price prediction, sales forecasting, trend analysis, stock market predictions",
                    resources: [
                        { name: "Scikit-learn Docs", url: "https://scikit-learn.org/stable/modules/linear_model.html" },
                        { name: "StatQuest Video", url: "https://www.youtube.com/watch?v=nk2CQITm_eo" }
                    ],
                    code: {
                        python: `from sklearn.linear_model import LinearRegression
import numpy as np

X = np.array([[1400], [1600], [1700]])
y = np.array([245000, 312000, 279000])

model = LinearRegression()
model.fit(X, y)
print(f"Coef: {model.coef_}, Intercept: {model.intercept_}")`
                    }
                },
                {
                    name: "Logistic Regression",
                    difficulty: "beginner",
                    category: "Supervised - Classification",
                    description: "Binary classification using sigmoid function to predict probabilities between 0 and 1.",
                    formula: "P(y=1|x) = 1/(1+e^(-z))",
                    useCase: "Spam detection, disease diagnosis, customer churn prediction",
                    resources: [
                        { name: "Scikit-learn Guide", url: "https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression" }
                    ],
                    code: {
                        python: `from sklearn.linear_model import LogisticRegression

model = LogisticRegression()
model.fit(X_train, y_train)
predictions = model.predict(X_test)`
                    }
                },
                {
                    name: "Decision Trees",
                    difficulty: "beginner",
                    category: "Supervised - Classification/Regression",
                    description: "Tree-like model making decisions through recursive feature-based splitting. Easy to interpret and visualize.",
                    formula: "Gini Impurity or Information Gain",
                    useCase: "Credit scoring, medical diagnosis, customer segmentation",
                    resources: [
                        { name: "Scikit-learn Decision Trees", url: "https://scikit-learn.org/stable/modules/tree.html" },
                        { name: "StatQuest: Decision Trees", url: "https://www.youtube.com/watch?v=7VeUPuFGJHk" },
                        { name: "Analytics Vidhya Guide", url: "https://www.analyticsvidhya.com/blog/2021/08/decision-tree-algorithm/" }
                    ],
                    code: {
                        python: `from sklearn.tree import DecisionTreeClassifier, plot_tree
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.datasets import load_iris
import matplotlib.pyplot as plt

# Load iris dataset
iris = load_iris()
X, y = iris.data, iris.target

X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Train Decision Tree
model = DecisionTreeClassifier(max_depth=3, random_state=42)
model.fit(X_train, y_train)

# Evaluate
y_pred = model.predict(X_test)
print(f"Accuracy: {accuracy_score(y_test, y_pred):.3f}")

# Feature importance
for name, importance in zip(iris.feature_names, model.feature_importances_):
    print(f"{name}: {importance:.3f}")`
                    }
                },
                {
                    name: "Random Forest",
                    difficulty: "intermediate",
                    category: "Ensemble",
                    description: "Ensemble of decision trees using bagging and random feature selection.",
                    formula: "Bootstrap Aggregating",
                    useCase: "Feature importance, fraud detection, recommendation systems",
                    resources: [
                        { name: "Random Forest Guide", url: "https://scikit-learn.org/stable/modules/ensemble.html#forest" }
                    ],
                    code: {
                        python: `from sklearn.ensemble import RandomForestClassifier

model = RandomForestClassifier(n_estimators=100)
model.fit(X_train, y_train)`
                    }
                },
                {
                    name: "Support Vector Machine",
                    difficulty: "intermediate",
                    category: "Supervised",
                    description: "Finds optimal hyperplane maximizing margin between classes.",
                    formula: "w¬∑x + b = 0",
                    useCase: "Image classification, text categorization, bioinformatics",
                    resources: [
                        { name: "SVM Documentation", url: "https://scikit-learn.org/stable/modules/svm.html" }
                    ],
                    code: {
                        python: `from sklearn.svm import SVC

model = SVC(kernel='rbf', C=1.0)
model.fit(X_train, y_train)`
                    }
                },
                {
                    name: "K-Nearest Neighbors",
                    difficulty: "beginner",
                    category: "Instance-based",
                    description: "Classifies based on k closest training examples in feature space.",
                    formula: "Distance-based voting",
                    useCase: "Recommendation systems, pattern recognition, anomaly detection",
                    resources: [
                        { name: "KNN Guide", url: "https://scikit-learn.org/stable/modules/neighbors.html" }
                    ],
                    code: {
                        python: `from sklearn.neighbors import KNeighborsClassifier

model = KNeighborsClassifier(n_neighbors=5)
model.fit(X_train, y_train)`
                    }
                },
                {
                    name: "Naive Bayes",
                    difficulty: "beginner",
                    category: "Probabilistic",
                    description: "Probabilistic classifier based on Bayes' theorem with independence assumption.",
                    formula: "P(y|X) = P(X|y)P(y)/P(X)",
                    useCase: "Text classification, spam filtering, sentiment analysis",
                    resources: [
                        { name: "Naive Bayes Docs", url: "https://scikit-learn.org/stable/modules/naive_bayes.html" }
                    ],
                    code: {
                        python: `from sklearn.naive_bayes import GaussianNB

model = GaussianNB()
model.fit(X_train, y_train)`
                    }
                },
                {
                    name: "K-Means Clustering",
                    difficulty: "beginner",
                    category: "Unsupervised",
                    description: "Partitions data into k clusters by minimizing within-cluster variance.",
                    formula: "Minimize Œ£||x - Œº·µ¢||¬≤",
                    useCase: "Customer segmentation, image compression, anomaly detection",
                    resources: [
                        { name: "K-Means Docs", url: "https://scikit-learn.org/stable/modules/clustering.html#k-means" }
                    ],
                    code: {
                        python: `from sklearn.cluster import KMeans

model = KMeans(n_clusters=3)
model.fit(X_train)`
                    }
                },
                {
                    name: "Gradient Boosting",
                    difficulty: "advanced",
                    category: "Ensemble",
                    description: "Sequential ensemble building weak learners, each correcting predecessors' errors.",
                    formula: "F(x) = F‚ÇÄ(x) + Œ£Œ±·µ¢h·µ¢(x)",
                    useCase: "Kaggle competitions, ranking, time series forecasting",
                    resources: [
                        { name: "XGBoost Documentation", url: "https://xgboost.readthedocs.io/" },
                        { name: "LightGBM Guide", url: "https://lightgbm.readthedocs.io/" },
                        { name: "StatQuest: Gradient Boost", url: "https://www.youtube.com/watch?v=3CC4N4z3GJc" }
                    ],
                    code: {
                        python: `from xgboost import XGBClassifier
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score, roc_auc_score
from sklearn.datasets import make_classification
import numpy as np

# Generate data
X, y = make_classification(n_samples=1000, n_features=20, n_informative=15, random_state=42)
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Train XGBoost
model = XGBClassifier(
    n_estimators=100,
    max_depth=5,
    learning_rate=0.1,
    subsample=0.8,
    colsample_bytree=0.8,
    random_state=42
)
model.fit(X_train, y_train, eval_set=[(X_test, y_test)], verbose=False)

# Evaluate
y_pred = model.predict(X_test)
y_proba = model.predict_proba(X_test)[:, 1]

print(f"Accuracy: {accuracy_score(y_test, y_pred):.3f}")
print(f"ROC-AUC: {roc_auc_score(y_test, y_proba):.3f}")

# Feature importance
import pandas as pd
importance_df = pd.DataFrame({
    'feature': [f'Feature_{i}' for i in range(X.shape[1])],
    'importance': model.feature_importances_
}).sort_values('importance', ascending=False)
print("\\nTop 5 Features:")
print(importance_df.head())`
                    }
                },
                {
                    name: "PCA",
                    difficulty: "intermediate",
                    category: "Dimensionality Reduction",
                    description: "Projects data to maximize variance along principal components via eigenvalue decomposition.",
                    formula: "Eigenvalue decomposition of covariance matrix",
                    useCase: "Data visualization, noise reduction, feature extraction",
                    resources: [
                        { name: "Scikit-learn PCA", url: "https://scikit-learn.org/stable/modules/decomposition.html#pca" },
                        { name: "StatQuest: PCA", url: "https://www.youtube.com/watch?v=FgakZw6K1QQ" },
                        { name: "Towards Data Science", url: "https://towardsdatascience.com/pca-using-python-scikit-learn-e653f8989e60" }
                    ],
                    code: {
                        python: `from sklearn.decomposition import PCA
from sklearn.preprocessing import StandardScaler
from sklearn.datasets import load_digits
import numpy as np

# Load high-dimensional data
digits = load_digits()
X, y = digits.data, digits.target

# Standardize
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# Apply PCA
pca = PCA()
X_pca = pca.fit_transform(X_scaled)

# Explained variance
cumsum = np.cumsum(pca.explained_variance_ratio_)
n_components_95 = np.argmax(cumsum >= 0.95) + 1
print(f"Components for 95% variance: {n_components_95}")

# Reduce to 2D for visualization
pca_2d = PCA(n_components=2)
X_2d = pca_2d.fit_transform(X_scaled)
print(f"Variance explained by 2 components: {pca_2d.explained_variance_ratio_.sum():.3f}")
print(f"Original shape: {X.shape}, Reduced: {X_2d.shape}")`
                    }
                }
            ],
            lossFunctions: [
                {
                    name: "Mean Squared Error (MSE)",
                    category: "Regression",
                    description: "Measures average squared difference between predictions and actual values.",
                    formula: "MSE = (1/N)Œ£(y·µ¢-≈∑·µ¢)¬≤",
                    useCase: "Regression tasks, continuous predictions",
                    resources: [
                        { name: "MSE Documentation", url: "https://scikit-learn.org/stable/modules/model_evaluation.html#mean-squared-error" }
                    ],
                    code: {
                        python: `from sklearn.metrics import mean_squared_error

mse = mean_squared_error(y_true, y_pred)
rmse = mse ** 0.5`
                    }
                },
                {
                    name: "Binary Cross-Entropy",
                    category: "Classification",
                    description: "Measures performance for binary classification with probability outputs.",
                    formula: "BCE = -Œ£[y¬∑log(≈∑) + (1-y)¬∑log(1-≈∑)]",
                    useCase: "Binary classification, logistic regression",
                    resources: [
                        { name: "Log Loss", url: "https://scikit-learn.org/stable/modules/model_evaluation.html#log-loss" }
                    ],
                    code: {
                        python: `from sklearn.metrics import log_loss

bce = log_loss(y_true, y_pred_proba)`
                    }
                },
                {
                    name: "Categorical Cross-Entropy",
                    category: "Classification",
                    description: "Multi-class extension of cross-entropy for classification.",
                    formula: "CCE = -Œ£·µ¢Œ£‚±º y·µ¢‚±º¬∑log(≈∑·µ¢‚±º)",
                    useCase: "Multi-class classification, neural networks",
                    resources: [
                        { name: "Cross-Entropy", url: "https://ml-cheatsheet.readthedocs.io/en/latest/loss_functions.html" }
                    ],
                    code: {
                        python: `from sklearn.metrics import log_loss

cce = log_loss(y_true, y_pred_proba)`
                    }
                },
                {
                    name: "Huber Loss",
                    category: "Regression",
                    description: "Robust loss combining MSE and MAE, less sensitive to outliers.",
                    formula: "L = 0.5(y-≈∑)¬≤ if |y-≈∑|‚â§Œ¥ else Œ¥|y-≈∑|-0.5Œ¥¬≤",
                    useCase: "Regression with outliers, robust estimation",
                    resources: [
                        { name: "Huber Loss", url: "https://scikit-learn.org/stable/modules/linear_model.html#huber-regression" }
                    ],
                    code: {
                        python: `def huber_loss(y_true, y_pred, delta=1.0):
    error = abs(y_true - y_pred)
    return np.where(error <= delta, 0.5*error**2, delta*error - 0.5*delta**2)`
                    }
                },
                {
                    name: "Hinge Loss",
                    category: "Classification",
                    description: "Maximum-margin loss used in SVMs.",
                    formula: "L = max(0, 1-y¬∑≈∑)",
                    useCase: "Support Vector Machines, binary classification",
                    resources: [
                        { name: "Hinge Loss", url: "https://en.wikipedia.org/wiki/Hinge_loss" }
                    ],
                    code: {
                        python: `from sklearn.metrics import hinge_loss

loss = hinge_loss(y_true, decision_function)`
                    }
                }
            ],
            activationFunctions: [
                {
                    name: "ReLU",
                    description: "Most popular activation returning max(0,x), computationally efficient.",
                    formula: "f(x) = max(0, x)",
                    derivative: "f'(x) = 1 if x>0 else 0",
                    useCase: "Hidden layers in deep networks, CNNs",
                    resources: [
                        { name: "ReLU Guide", url: "https://machinelearningmastery.com/rectified-linear-activation-function-for-deep-learning-neural-networks/" }
                    ],
                    code: {
                        python: `def relu(x):
    return np.maximum(0, x)`,
                        javascript: `function relu(x) {
    return Math.max(0, x);
}`
                    }
                },
                {
                    name: "Sigmoid",
                    description: "S-shaped curve squashing values between 0 and 1.",
                    formula: "f(x) = 1/(1+e^(-x))",
                    derivative: "f'(x) = f(x)(1-f(x))",
                    useCase: "Binary classification output, gate functions in LSTMs",
                    resources: [
                        { name: "Sigmoid Function", url: "https://en.wikipedia.org/wiki/Sigmoid_function" }
                    ],
                    code: {
                        python: `def sigmoid(x):
    return 1 / (1 + np.exp(-x))`
                    }
                },
                {
                    name: "Tanh",
                    description: "Zero-centered activation outputting between -1 and 1.",
                    formula: "f(x) = (e^x - e^(-x))/(e^x + e^(-x))",
                    derivative: "f'(x) = 1 - f(x)¬≤",
                    useCase: "Hidden layers in RNNs",
                    resources: [
                        { name: "Tanh vs Sigmoid", url: "https://towardsdatascience.com/activation-functions-neural-networks-1cbd9f8d91d6" }
                    ],
                    code: {
                        python: `def tanh(x):
    return np.tanh(x)`
                    }
                },
                {
                    name: "Softmax",
                    description: "Converts vector to probability distribution for multi-class output.",
                    formula: "f(x·µ¢) = e^x·µ¢ / Œ£‚±ºe^x‚±º",
                    derivative: "Complex, computed in backprop",
                    useCase: "Multi-class classification output",
                    resources: [
                        { name: "Softmax Explained", url: "https://deepai.org/machine-learning-glossary-and-terms/softmax-layer" }
                    ],
                    code: {
                        python: `def softmax(x):
    exp_x = np.exp(x - np.max(x))
    return exp_x / exp_x.sum()`
                    }
                },
                {
                    name: "Leaky ReLU",
                    description: "ReLU variant allowing small negative values to prevent dying neurons.",
                    formula: "f(x) = max(Œ±x, x) where Œ±‚âà0.01",
                    derivative: "f'(x) = 1 if x>0 else Œ±",
                    useCase: "Alternative to ReLU",
                    resources: [
                        { name: "Leaky ReLU Paper", url: "https://arxiv.org/abs/1505.00853" }
                    ],
                    code: {
                        python: `def leaky_relu(x, alpha=0.01):
    return np.where(x > 0, x, alpha*x)`
                    }
                }
            ],
            activeLearning: [
                {
                    name: "Step 1: Split Dataset",
                    description: "Divide unlabeled data into small (10-20%) and large (80-90%) portions.",
                    steps: ["Collect unlabeled data", "Split 15% small, 85% large", "Ensure representative splits"],
                    resources: [
                        { name: "Active Learning Tutorial", url: "https://towardsdatascience.com/active-learning-tutorial-57c3398e34d" }
                    ],
                    code: {
                        python: `from sklearn.model_selection import train_test_split

X_small, X_large = train_test_split(X, test_size=0.85)`
                    }
                },
                {
                    name: "Step 2: Label & Train",
                    description: "Manually label small portion and train initial baseline model.",
                    steps: ["Label small portion", "Train initial model", "Evaluate baseline"],
                    resources: [
                        { name: "Label Studio", url: "https://github.com/heartexlabs/label-studio" }
                    ],
                    code: {
                        python: `from sklearn.ensemble import RandomForestClassifier

model = RandomForestClassifier()
model.fit(X_small_labeled, y_small_labeled)`
                    }
                },
                {
                    name: "Step 3: Predict & Score",
                    description: "Use model to predict on large unlabeled portion with confidence scores.",
                    steps: ["Run predictions", "Calculate confidence (max probability)", "Identify low confidence"],
                    resources: [
                        { name: "Uncertainty Sampling", url: "https://modal-python.readthedocs.io/" }
                    ],
                    code: {
                        python: `y_pred = model.predict(X_large)
y_proba = model.predict_proba(X_large)
confidence = np.max(y_proba, axis=1)`
                    }
                },
                {
                    name: "Step 4: Label & Retrain",
                    description: "Select low-confidence samples, label them, and retrain iteratively.",
                    steps: ["Select uncertain samples (Query Strategy)", "Manual labeling (Oracle)", "Combine datasets", "Retrain model", "Repeat"],
                    resources: [
                        { name: "Active Learning Loop", url: "https://towardsdatascience.com/active-learning-in-machine-learning-525e61be16e5" }
                    ],
                    code: {
                        python: `# Select lowest confidence samples
low_conf_idx = np.argsort(confidence)[:50]
X_new = X_large[low_conf_idx]
y_new = label_manually(X_new)  # Manual step

# Retrain
X_train = np.vstack([X_train, X_new])
y_train = np.concatenate([y_train, y_new])
model.fit(X_train, y_train)`
                    }
                }
            ],
            tools: [
                {
                    name: "Scikit-learn",
                    category: "Traditional ML",
                    description: "Comprehensive library for classical ML with consistent API.",
                    pricing: "Free (Open Source)",
                    languages: ["Python"],
                    features: ["Classification", "Regression", "Clustering", "Preprocessing"],
                    link: "https://scikit-learn.org/",
                    resources: [
                        { name: "Documentation", url: "https://scikit-learn.org/stable/documentation.html" }
                    ]
                },
                {
                    name: "TensorFlow",
                    category: "Deep Learning",
                    description: "End-to-end platform by Google for ML with production-ready tools.",
                    pricing: "Free (Open Source)",
                    languages: ["Python", "JavaScript", "C++"],
                    features: ["Neural Networks", "Computer Vision", "NLP", "TensorBoard"],
                    link: "https://www.tensorflow.org/",
                    resources: [
                        { name: "Tutorials", url: "https://www.tensorflow.org/tutorials" }
                    ]
                },
                {
                    name: "PyTorch",
                    category: "Deep Learning",
                    description: "Dynamic framework by Meta, popular in research with Pythonic interface.",
                    pricing: "Free (Open Source)",
                    languages: ["Python", "C++"],
                    features: ["Dynamic Graphs", "GPU Acceleration", "TorchVision", "TorchText"],
                    link: "https://pytorch.org/",
                    resources: [
                        { name: "Tutorials", url: "https://pytorch.org/tutorials/" }
                    ]
                },
                {
                    name: "XGBoost",
                    category: "Gradient Boosting",
                    description: "Optimized gradient boosting library dominating ML competitions.",
                    pricing: "Free (Open Source)",
                    languages: ["Python", "R", "Java"],
                    features: ["Gradient Boosting", "Parallel Processing", "Feature Importance"],
                    link: "https://xgboost.readthedocs.io/",
                    resources: [
                        { name: "Documentation", url: "https://xgboost.readthedocs.io/" }
                    ]
                },
                {
                    name: "Pandas",
                    category: "Data Manipulation",
                    description: "Essential library for data manipulation with DataFrame structure.",
                    pricing: "Free (Open Source)",
                    languages: ["Python"],
                    features: ["DataFrames", "Data Cleaning", "Time Series", "Merging"],
                    link: "https://pandas.pydata.org/",
                    resources: [
                        { name: "Documentation", url: "https://pandas.pydata.org/docs/" }
                    ]
                },
                {
                    name: "Hugging Face Transformers",
                    category: "NLP Library",
                    description: "State-of-the-art natural language processing with pre-trained models. Thousands of models available.",
                    pricing: "Free (Open Source) + Paid Inference API",
                    languages: ["Python", "JavaScript"],
                    features: ["Pre-trained Models", "Transfer Learning", "Easy Fine-tuning", "Model Hub"],
                    link: "https://huggingface.co/",
                    resources: [
                        { name: "Transformers Documentation", url: "https://huggingface.co/docs/transformers/" },
                        { name: "Model Hub", url: "https://huggingface.co/models" },
                        { name: "Course", url: "https://huggingface.co/course" }
                    ]
                },
                {
                    name: "Matplotlib",
                    category: "Visualization",
                    description: "Comprehensive library for creating static, animated, and interactive visualizations.",
                    pricing: "Free (Open Source)",
                    languages: ["Python"],
                    features: ["2D Plotting", "3D Plotting", "Histograms", "Subplots", "Customization"],
                    link: "https://matplotlib.org/",
                    resources: [
                        { name: "Matplotlib Gallery", url: "https://matplotlib.org/stable/gallery/index.html" },
                        { name: "Tutorials", url: "https://matplotlib.org/stable/tutorials/index.html" }
                    ]
                },
                {
                    name: "Seaborn",
                    category: "Statistical Visualization",
                    description: "High-level interface for statistical graphics built on Matplotlib with beautiful default styles.",
                    pricing: "Free (Open Source)",
                    languages: ["Python"],
                    features: ["Statistical Plots", "Built-in Themes", "Color Palettes", "Pandas Integration"],
                    link: "https://seaborn.pydata.org/",
                    resources: [
                        { name: "Seaborn Tutorial", url: "https://seaborn.pydata.org/tutorial.html" },
                        { name: "Example Gallery", url: "https://seaborn.pydata.org/examples/index.html" }
                    ]
                }
            ]
        };

        // Learning journal storage
        let learningJournal = {};

        // Load from localStorage
        function loadProgress() {
            try {
                const saved = localStorage.getItem('mlGuideProgress');
                if (saved) {
                    learningJournal = JSON.parse(saved);
                }
            } catch (e) {
                console.error('Error loading progress:', e);
            }
        }

        // Save to localStorage
        function saveProgress() {
            try {
                localStorage.setItem('mlGuideProgress', JSON.stringify(learningJournal));
            } catch (e) {
                console.error('Error saving progress:', e);
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            loadProgress();
            
            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Render all content
            renderDefinitions();
            renderConceptTiles(data.algorithms, 'algorithmsGrid', 'algorithms');
            renderConceptTiles(data.lossFunctions, 'lossFunctionsGrid', 'loss');
            renderConceptTiles(data.activationFunctions, 'activationFunctionsGrid', 'activation');
            renderConceptTiles(data.activeLearning, 'activeLearningGrid', 'activeLearning');
            renderTools();
            renderReferences();

            // Setup search
            setupSearch('searchDefinitions', 'definitionsContent');
            setupSearch('searchAlgorithms', 'algorithmsGrid');
            setupSearch('searchLoss', 'lossFunctionsGrid');
            setupSearch('searchActivation', 'activationFunctionsGrid');
            setupSearch('searchTools', 'toolsContent');

            // Difficulty filtering
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const filter = this.dataset.filter;
                    
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    document.querySelectorAll('#algorithmsGrid .concept-tile').forEach(tile => {
                        if (filter === 'all' || tile.dataset.difficulty === filter) {
                            tile.style.display = 'block';
                        } else {
                            tile.style.display = 'none';
                        }
                    });
                });
            });

            // Modal close
            document.querySelector('.modal-close').addEventListener('click', () => {
                document.getElementById('modal').classList.remove('active');
            });

            document.getElementById('modal').addEventListener('click', (e) => {
                if (e.target.id === 'modal') {
                    e.target.classList.remove('active');
                }
            });

            // Update progress bars
            ['definitions', 'algorithms', 'loss', 'activation', 'activeLearning'].forEach(updateProgress);
        });

        // Render definitions
        function renderDefinitions() {
            const container = document.getElementById('definitionsContent');
            container.innerHTML = data.definitions.map((def, idx) => {
                const id = `definitions-${idx}`;
                const completed = learningJournal[id]?.completed || false;
                return `
                    <div class="concept-tile ${completed ? 'completed' : ''}" data-concept-id="${id}">
                        <div class="tile-header">
                            <div class="tile-title">${def.term}</div>
                            <div class="checkbox-container ${completed ? 'checked' : ''}" onclick="toggleComplete('${id}', event)">
                                <span class="checkmark">‚úì</span>
                            </div>
                        </div>
                        <div class="tile-description">${def.definition}</div>
                        <div class="tile-actions">
                            <button class="action-btn btn-journal" onclick='showJournal("${id}", "${escapeHtml(def.term)}")'>üìù Journal</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Render concept tiles
        function renderConceptTiles(concepts, containerId, category) {
            const container = document.getElementById(containerId);
            container.innerHTML = concepts.map((concept, idx) => {
                const id = `${category}-${idx}`;
                const completed = learningJournal[id]?.completed || false;
                
                return `
                    <div class="concept-tile ${completed ? 'completed' : ''}" 
                         data-concept-id="${id}" 
                         data-difficulty="${concept.difficulty || 'all'}">
                        <div class="tile-header">
                            <div class="tile-title">${concept.name}</div>
                            <div class="checkbox-container ${completed ? 'checked' : ''}" onclick="toggleComplete('${id}', event)">
                                <span class="checkmark">‚úì</span>
                            </div>
                        </div>
                        ${concept.difficulty ? `<span class="difficulty-badge difficulty-${concept.difficulty}">${concept.difficulty.toUpperCase()}</span>` : ''}
                        ${concept.category ? `<div style="color: #667eea; font-weight: 600; margin-bottom: 10px;">${concept.category}</div>` : ''}
                        <div class="tile-description">${concept.description}</div>
                        ${concept.formula ? `<div style="background: white; padding: 10px; border-radius: 5px; margin: 10px 0; font-family: monospace; color: #2c3e50; overflow-x: auto;"><strong>Formula:</strong> ${escapeHtml(concept.formula)}</div>` : ''}
                        ${concept.useCase ? `<div style="margin-top: 10px; font-size: 0.9em; color: #666;"><strong>Use Cases:</strong> ${concept.useCase}</div>` : ''}
                        ${concept.steps ? `<div style="margin-top: 10px;"><strong>Steps:</strong><ul style="margin-left: 20px; color: #555;">${concept.steps.map(s => `<li>${s}</li>`).join('')}</ul></div>` : ''}
                        <div class="tile-actions">
                            ${concept.resources ? `<button class="action-btn btn-resources" onclick='showResources(${JSON.stringify(concept.resources)}, "${escapeHtml(concept.name)}")'>üìö Resources</button>` : ''}
                            ${concept.code ? `<button class="action-btn btn-code" onclick='showCode(${JSON.stringify(concept.code)}, "${escapeHtml(concept.name)}")'>üíª Code</button>` : ''}
                            <button class="action-btn btn-journal" onclick='showJournal("${id}", "${escapeHtml(concept.name)}")'>üìù Journal</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Toggle completion
        function toggleComplete(id, event) {
            event.stopPropagation();
            
            if (!learningJournal[id]) learningJournal[id] = {};
            
            learningJournal[id].completed = !learningJournal[id].completed;
            if (learningJournal[id].completed && !learningJournal[id].completionDate) {
                learningJournal[id].completionDate = new Date().toISOString().split('T')[0];
            }
            
            saveProgress();
            
            const tile = event.target.closest('.concept-tile');
            const checkbox = event.target.closest('.checkbox-container');
            
            if (learningJournal[id].completed) {
                tile.classList.add('completed');
                checkbox.classList.add('checked');
            } else {
                tile.classList.remove('completed');
                checkbox.classList.remove('checked');
            }
            
            updateProgress(id.split('-')[0]);
        }

        // Update progress bar
        function updateProgress(category) {
            const configs = {
                'definitions': { container: 'definitionsContent', progress: 'progressDefinitions' },
                'algorithms': { container: 'algorithmsGrid', progress: 'progressAlgorithms' },
                'loss': { container: 'lossFunctionsGrid', progress: 'progressLoss' },
                'activation': { container: 'activationFunctionsGrid', progress: 'progressActivation' },
                'activeLearning': { container: 'activeLearningGrid', progress: 'progressActiveLearning' }
            };
            
            const config = configs[category];
            if (!config) return;
            
            const tiles = document.querySelectorAll(`#${config.container} .concept-tile`);
            if (!tiles.length) return;
            
            const completed = Array.from(tiles).filter(tile => {
                const id = tile.dataset.conceptId;
                return learningJournal[id]?.completed;
            }).length;
            
            const percentage = Math.round((completed / tiles.length) * 100);
            const bar = document.getElementById(config.progress);
            if (bar) {
                bar.style.width = percentage + '%';
                bar.textContent = percentage + '%';
            }
        }

        // Show resources modal
        function showResources(resources, title) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modalBody');
            
            modalBody.innerHTML = `
                <h2 style="margin-bottom: 20px; color: #2c3e50;">${title} - Resources</h2>
                <ul class="resources-list">
                    ${resources.map(r => `
                        <li>
                            <a href="${r.url}" target="_blank">${r.name}</a>
                            <div style="font-size: 0.9em; color: #777; margin-top: 5px;">${r.url}</div>
                        </li>
                    `).join('')}
                </ul>
            `;
            
            modal.classList.add('active');
        }

        // Show code modal
        function showCode(codeObj, title) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modalBody');
            
            const langs = Object.keys(codeObj);
            
            modalBody.innerHTML = `
                <h2 style="margin-bottom: 20px; color: #2c3e50;">${title} - Code Examples</h2>
                <div class="code-tabs">
                    ${langs.map((lang, i) => `
                        <div class="code-tab ${i === 0 ? 'active' : ''}" data-lang="${lang}">${lang.toUpperCase()}</div>
                    `).join('')}
                </div>
                ${langs.map((lang, i) => `
                    <div class="code-example ${i === 0 ? 'active' : ''}" data-lang="${lang}">
                        <pre><code>${escapeHtml(codeObj[lang])}</code></pre>
                    </div>
                `).join('')}
            `;
            
            modalBody.querySelectorAll('.code-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const lang = this.dataset.lang;
                    modalBody.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
                    modalBody.querySelectorAll('.code-example').forEach(e => e.classList.remove('active'));
                    this.classList.add('active');
                    modalBody.querySelector(`.code-example[data-lang="${lang}"]`).classList.add('active');
                });
            });
            
            modal.classList.add('active');
        }

        // Show journal modal
        function showJournal(id, title) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modalBody');
            const journal = learningJournal[id] || {};
            
            modalBody.innerHTML = `
                <h2 style="margin-bottom: 20px; color: #2c3e50;">${title} - Learning Journal</h2>
                <div class="journal-section">
                    <div class="journal-field">
                        <label>Completion Date</label>
                        <input type="date" id="completionDate" value="${journal.completionDate || ''}">
                    </div>
                    <div class="journal-field">
                        <label>Time Spent (hours)</label>
                        <input type="number" id="timeSpent" value="${journal.timeSpent || ''}" placeholder="e.g., 2.5" step="0.5" min="0">
                    </div>
                    <div class="journal-field">
                        <label>Confidence Level</label>
                        <select id="confidenceLevel">
                            <option value="">Select...</option>
                            <option value="beginner" ${journal.confidence === 'beginner' ? 'selected' : ''}>Beginner</option>
                            <option value="intermediate" ${journal.confidence === 'intermediate' ? 'selected' : ''}>Intermediate</option>
                            <option value="advanced" ${journal.confidence === 'advanced' ? 'selected' : ''}>Advanced</option>
                        </select>
                    </div>
                    <div class="journal-field">
                        <label>Personal Notes</label>
                        <textarea id="notes" placeholder="Your notes...">${journal.notes || ''}</textarea>
                    </div>
                    <button class="save-journal-btn" data-id="${id}">üíæ Save Journal Entry</button>
                </div>
            `;
            
            modalBody.querySelector('.save-journal-btn').addEventListener('click', function() {
                saveJournal(this.dataset.id);
            });
            
            modal.classList.add('active');
        }

        // Save journal entry (FIXED: Handles update and re-render)
        function saveJournal(id) {
            if (!learningJournal[id]) learningJournal[id] = {};
            
            learningJournal[id].completionDate = document.getElementById('completionDate').value;
            learningJournal[id].timeSpent = document.getElementById('timeSpent').value;
            learningJournal[id].confidence = document.getElementById('confidenceLevel').value;
            learningJournal[id].notes = document.getElementById('notes').value;

            // Ensure completion status is updated if a date is set
            if (learningJournal[id].completionDate) {
                 learningJournal[id].completed = true;
            }
            
            saveProgress();
            document.getElementById('modal').classList.remove('active');
            alert('Journal entry saved!');

            // Re-render the relevant content to update the tile's checkmark status
            const category = id.split('-')[0];
            const renderMap = {
                'definitions': renderDefinitions,
                'algorithms': () => renderConceptTiles(data.algorithms, 'algorithmsGrid', 'algorithms'),
                'loss': () => renderConceptTiles(data.lossFunctions, 'lossFunctionsGrid', 'loss'),
                'activation': () => renderConceptTiles(data.activationFunctions, 'activationFunctionsGrid', 'activation'),
                'activeLearning': () => renderConceptTiles(data.activeLearning, 'activeLearningGrid', 'activeLearning')
            };
            
            if (renderMap[category]) {
                renderMap[category]();
            }
        }

        // Escape HTML
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Render tools
        function renderTools() {
            const container = document.getElementById('toolsContent');
            container.innerHTML = data.tools.map(tool => `
                <div class="tool-card">
                    <h3>${tool.name}</h3>
                    <div style="color: #667eea; font-weight: 600; margin-bottom: 10px;">${tool.category}</div>
                    <p>${tool.description}</p>
                    <div class="tool-pricing">${tool.pricing}</div>
                    <div style="margin-top: 15px;">
                        <strong>Languages:</strong> ${tool.languages.join(', ')}
                    </div>
                    <div style="margin-top: 10px;">
                        <strong>Key Features:</strong> ${tool.features.join(', ')}
                    </div>
                    <div style="margin-top: 15px;">
                        <a href="${tool.link}" target="_blank" style="color: #667eea; font-weight: 600; text-decoration: none;">
                            üîó Visit ${tool.name}
                        </a>
                    </div>
                    ${tool.resources ? `
                        <div style="margin-top: 15px;">
                            <strong>Resources:</strong>
                            <ul style="margin-top: 5px;">
                                ${tool.resources.map(res => `<li><a href="${res.url}" target="_blank" style="color: #667eea;">${res.name}</a></li>`).join('')}
                            </ul>
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        // Render references with clickable image placeholders
        function renderReferences() {
            const container = document.getElementById('referencesGallery');
            const references = [
                { title: "Machine Learning Algorithms Comparison", desc: "Comprehensive comparison table with types, formulas, and use cases", img: "20250925_101233.jpg" },
                { title: "Loss Functions Reference", desc: "10 most common loss functions in machine learning", img: "20251022_233728.jpg" },
                { title: "ML Algorithms Tree", desc: "Hierarchical view of supervised, unsupervised, and reinforcement learning", img: "20251124_120119.jpg" },
                { title: "ML Algorithms Hierarchy", desc: "Complete taxonomy of machine learning approaches", img: "20251127_134101.jpg" },
                { title: "AI/ML Cheat Sheet", desc: "Key terms, definitions, and concepts at a glance", img: "20251127_194756.jpg" },
                { title: "Scikit-Learn Algorithms", desc: "Complete reference for scikit-learn's algorithm modules", img: "GdeXHE3WcAAP4sz.png" },
                { title: "Common ML Algorithms", desc: "Visual diagrams and keywords for popular algorithms", img: "GdhdPntWIAAt2s6.jpg" },
                { title: "Active Learning Process", desc: "Step-by-step workflow for active learning implementation", img: "Gr2Hy1SWIAANlQS.jpg" },
                { title: "Activation Functions", desc: "Types, equations, and derivatives of neural network activations", img: "GrNEuyxWwAEcb7G.jpg" },
                { title: "ML Learning Path", desc: "Complete roadmap from theory to practice", img: "GYnaOYkW8AAg2vu.jpg" }
            ];
            
            container.innerHTML = references.map((ref, idx) => `
                <div class="reference-tile" style="cursor: pointer;" onclick='showImageModal("${ref.img}", "${escapeHtml(ref.title)}")'>
                    <img src="${ref.img}" alt="${ref.title}" style="width: 100%; border-radius: 8px; margin-bottom: 10px;">
                    <h3>üìä ${ref.title}</h3>
                    <p style="color: #666; font-size: 0.9em; margin-top: 8px;">${ref.desc}</p>
                    <div style="background: linear-gradient(135deg, #e9e9f4 0%, #d4d4f4 100%); padding: 10px; border-radius: 8px; margin-top: 10px; text-align: center; font-size: 0.85em; color: #555;">
                        Click to view full size
                    </div>
                </div>
            `).join('');
        }

        // Show image in modal
        function showImageModal(imgSrc, title) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modalBody');
            
            modalBody.innerHTML = `
                <h2 style="margin-bottom: 20px; color: #2c3e50;">${title}</h2>
                <div style="text-align: center;">
                    <small><img src="${imgSrc}" alt="${title}" style="max-width: 100%; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.2);"></small>
                </div>
                <p style="margin-top: 20px; color: #666; text-align: center; font-style: italic;">
                    Reference graphic for ${title}
                </p>
            `;
            
            modal.classList.add('active');
        }

        // Search functionality
        function setupSearch(searchId, containerId) {
            const searchBox = document.getElementById(searchId);
            if (!searchBox) return;
            
            searchBox.addEventListener('input', function() {
                const query = this.value.toLowerCase();
                const container = document.getElementById(containerId);
                
                if (container) {
                    const tiles = container.querySelectorAll('.concept-tile, .tool-card');
                    tiles.forEach(tile => {
                        const text = tile.textContent.toLowerCase();
                        tile.style.display = text.includes(query) ? 'block' : 'none';
                    });
                }
            });
        }
    </script>
</body>
</html>